<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" >
<head>
    <!-- Required meta tags -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/style.css}" href="../../css/style.css" />
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/Totalpop.css}" href="../../css/Totalpop.css" />
    <link rel="preconnect" th:href="@{https://fonts.gstatic.com}">
    <link th:href="@{https://fonts.googleapis.com/css2?family=Stick&family=Ubuntu:wght@400;500;700&display=swap}" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css}" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">


    <title>Menu</title>
</head>
<body>

<div id="fixed-left">
    <button type="button" class="btn btn-success text-help">Request Waitstaff</button>
</div>

<section class="nav_c">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid justify-content-center">
            <a class="navbar-brand h1 bs-txt" href="#">BLACKSTAR</a>
        </div>
    </nav>

    <section class="todayM">
        <p class="h3 text-center td-txt">Today's Deals</p>
        <div class="row td d-flex justify-content-center">
            <div class="col td-container">
<!--                <img th:src="@{/img/tm1.jpeg}" alt="..." class="td-item">-->
                <img src="../../img/tm1.jpeg" th:attr="src=@{/img/tm1.jpeg},title=#{bs},alt=#{bs}" class="td-item"/>
            </div>
            <div class="col">
<!--                <img th:src="@{/img/tm2.jpeg}" alt="..." class="td-item">-->
                <img src="../../img/tm2.jpeg" th:attr="src=@{/img/tm2.jpeg},title=#{bs},alt=#{bs}" class="td-item"/>
            </div>
        </div>
    </section>
</section>

<div class="text-center">
    <h2>TABLE [[${table.number}]]</h2>
</div>

<div class="cat-container-overall container-fluid ">

    <div class="accordion accordion-flush category_container" id="accordionFlushExample">

        <div th:each="cat: ${categories}" class="accordion-item categories">
            <div class="accordion-header" id="flush-heading1">
                <div class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#flush-collapse1" aria-expanded="false" aria-controls="flush-collapse1">

                    <p class="h6 text-center">[[${cat.ct_name}]]</p>
                    <div class="row tm">
                        <div class="col"
                             th:each="item, it: ${items}"
                             th:if="${cat.ctID == item.category.ctID and it.count &lt; 4}">
                            <img th:src="'data:image/jpeg;base64,' + ${itemImage.getImgData(item.image)}" alt="..." class="cat_item_img rounded-circle"/>
                        </div>
                    </div>
                </div>
            </div>

            <div id="flush-collapse1" class="accordion-collapse collapse category_iteam" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <ul class="list-group">

                        <li class="list-group-item d-flex justify-content-between align-items-center"
                            th:each="item, it: ${items}"
                            th:if="${cat.ctID == item.category.ctID}">
                            <div class="row " style="color: #0d5d38 !important;">
                                <div class="col-4 item_img">
                                    <img th:src="'data:image/jpeg;base64,' + ${itemImage.getImgData(item.image)}" alt="..." class="cat_item_img rounded-circle"/>
                                </div>
                                <div class="col-5 item_text_container">
                                    <span class="titleITname">[[${item.it_name}]]</span>
                                    <p class="item_text">[[${item.description}]]</p>
                                </div>
                                <div class="col-3 item-price">
                                    <ul class="list-group">
                                        <li class="list-group-item item_counter">

                                            <input th:type="number" class="form-control item_quan itan" th:value="0" th:min="1"  th:max="${item.quanity != null} ? ${item.quanity} : 10" th:name="qty" th:id="${it.count}">
                                            <button type="button" class="btn btn-outline-success plus-minus-btn inc innc">
                                                ADD TO CART
                                            </button>
                                        </li>
                                        <li class="list-group-item price text-center">€ <span id="2">[[${item.price}]]</span></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>


    </div>
</div>



<div class="popup" id="popup-1">
    <div class="overlay"></div>
    <div class="content">
        <div class="close-btn" onclick="togglePopup()">&times;</div>

        <section class="container content-section">
            <h2 class="section-header">Order Summary</h2>
            <div class="cart-row">
                <span class="cart-item cart-header cart-column">ITEM</span>
                <span class="cart-price cart-header cart-column">PRICE</span>
                <span class="cart-quantity cart-header cart-column">QUANTITY</span>
            </div>
            <div class="cart-items">

                <div class="cart-row">
                    <div class="cart-item cart-column">

                        <span class="cart-item-title">------</span>
                    </div>
                    <span class="cart-price cart-column price text-center">0.00</span>
                    <div class="cart-quantity cart-column">

                        <button type="button" class="btn btn-outline-danger rounded-circle plus-minus-btn dec">
                            −
                        </button>
                        <input type="number" class="form-control item_quan" value="1" min="1" max="10" name="qty" id="5">
                        <button type="button" class="btn btn-outline-success rounded-circle plus-minus-btn inc">
                            +
                        </button>
                        <button class="btn btn-outline-danger rounded-circle plus-minus-btn remove" id="6" type="button">X</button>


                    </div>
                </div>

            </div>
            <div class="cart-total" >

                <!--	<strong class="cart-total-title">Total</strong>
                    <span class="cart-total-price"></span> -->
                <strong class="cartel-total-price"> Total </strong>
                <span class="cartel-total-price"></span>
            </div>

            <button class="btn btn-primary btn-purchase"  type="button" id="somebutn">Order</button>
        </section>
    </div>
</div>

<footer class="bg-light text-lg-start">
    <button class="total-ft btn btn-success" onclick="togglePopup()">
        <div class="row">
            <div class="col ">
                <p class="h5" style="font-size: 1.50rem;">Total</p>
            </div>
            <div class="col" style="padding: 1%;">
                EUR&nbsp;<span id="tot">0</span>
            </div>
        </div>
    </button>
</footer>





<script th:src="@{/js/cmenu.js}"></script>

<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

<!-- Option 2: Separate Popper and Bootstrap JS -->
<!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
-->
</body>
</html>